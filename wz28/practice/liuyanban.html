<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>留言板</title>
<style>
body,ul{
	margin:0px;
	padding:0px;
	color:#F63;
	background:#FCF;}
	div{
		background:#F99;
		position:relative;
		left:50%;
		top:0;
		margin-left:-500px;
		width:1000px;
		border:1px solid #3FF;
		padding:20px 20px 0 20px;}
ul{
	width:100%;
	list-style:none;
	
	}
li{
	padding:5px;
	background:#Fff;
	width:100%;
	height:100px;
	font:20px Arial, Helvetica, sans-serif;
	border:1px solid #F63;
	margin-top:10px;
	}	
		span{
			vertical-align:top;}
</style>
<script>
window.onload=function(){
	var name=document.getElementById("name");  
	var oul=document.getElementsByTagName("ul")[0];
		var content=document.getElementById("content");
		var bt1=document.getElementById("bt1");
	
		var df=document.createDocumentFragment();

		for(var i=0;i<localStorage.length;i++){
			
				var con=document.createElement("li");
				df.appendChild(con);
				
				con.innerHTML=localStorage.key(i).split("?")[1]+"：<br>"+localStorage.getItem(localStorage.key(i));
				}
			oul.appendChild(df);
		bt1.addEventListener("click",function(){
			var oli=document.getElementsByTagName("li")[0];
			var mydate=new Date();
			var a=mydate.getTime();
			localStorage.setItem(name.value+"?"+a,content.value);
			var con=document.createElement("li");
			con.innerHTML=name.value+"：<br>"+content.value;
				oul.insertBefore(con,oli);
			});
				
	}
</script>
</head>

<body>
<div class="container">
姓名：<input type="text" id="name" ><br><br>
<span>留言：</span>
<textarea rows="10" cols="50" id="content" >请在此处留言,,,,</textarea>
<button id="bt1" >提交</button>
<ul></ul>
</div>
<blockquote></blockquote>
</body>
</html>
